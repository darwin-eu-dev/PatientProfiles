<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Summarise result • PatientProfiles</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Summarise result">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">PatientProfiles</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>PatientProfiles</h6></li>
    <li><a class="dropdown-item" href="../articles/demographics.html">Adding patient demographics</a></li>
    <li><a class="dropdown-item" href="../articles/cohort-intersect.html">Adding cohort intersections</a></li>
    <li><a class="dropdown-item" href="../articles/concept-intersect.html">Adding concept intersections</a></li>
    <li><a class="dropdown-item" href="../articles/table-intersect.html">Adding table intersections</a></li>
    <li><a class="dropdown-item" href="../articles/summarise.html">Summarise result</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/darwin-eu-dev/PatientProfiles/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Summarise result</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/darwin-eu-dev/PatientProfiles/blob/main/vignettes/summarise.Rmd" class="external-link"><code>vignettes/summarise.Rmd</code></a></small>
      <div class="d-none name"><code>summarise.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>In previous vignettes we have seen how to add patient level
demographics (age, sex, prior observation, …) or intersections with
cohorts , concepts and tables.</p>
<p>Once we have added several columns to our table of interest we may
want to summarise all this data into a <code>summarised_result</code>
object using several different estimates.</p>
<div class="section level3">
<h3 id="variables-type">Variables type<a class="anchor" aria-label="anchor" href="#variables-type"></a>
</h3>
<p>We support different types of variables, variable type is assigned
using <code><a href="https://pillar.r-lib.org/reference/type_sum.html" class="external-link">dplyr::type_sum</a></code>:</p>
<ul>
<li><p>Date: <code>date</code> or <code>dttm</code>.</p></li>
<li><p>Numeric: <code>dbl</code> or <code>drtn</code>.</p></li>
<li><p>Integer: <code>int</code> or <code>int64</code>.</p></li>
<li><p>Categorical: <code>chr</code>, <code>fct</code> or
<code>ord</code>.</p></li>
<li><p>Logical: <code>lgl</code>.</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="estimates-names">Estimates names<a class="anchor" aria-label="anchor" href="#estimates-names"></a>
</h3>
<p>We can summarise this data using different estimates:</p>
<div id="mwlefoodfi" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#mwlefoodfi table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#mwlefoodfi thead, #mwlefoodfi tbody, #mwlefoodfi tfoot, #mwlefoodfi tr, #mwlefoodfi td, #mwlefoodfi th {
  border-style: none;
}

#mwlefoodfi p {
  margin: 0;
  padding: 0;
}

#mwlefoodfi .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#mwlefoodfi .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#mwlefoodfi .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#mwlefoodfi .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#mwlefoodfi .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#mwlefoodfi .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mwlefoodfi .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#mwlefoodfi .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#mwlefoodfi .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#mwlefoodfi .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#mwlefoodfi .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#mwlefoodfi .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#mwlefoodfi .gt_spanner_row {
  border-bottom-style: hidden;
}

#mwlefoodfi .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#mwlefoodfi .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#mwlefoodfi .gt_from_md > :first-child {
  margin-top: 0;
}

#mwlefoodfi .gt_from_md > :last-child {
  margin-bottom: 0;
}

#mwlefoodfi .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#mwlefoodfi .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#mwlefoodfi .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#mwlefoodfi .gt_row_group_first td {
  border-top-width: 2px;
}

#mwlefoodfi .gt_row_group_first th {
  border-top-width: 2px;
}

#mwlefoodfi .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#mwlefoodfi .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#mwlefoodfi .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#mwlefoodfi .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mwlefoodfi .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#mwlefoodfi .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#mwlefoodfi .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#mwlefoodfi .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#mwlefoodfi .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mwlefoodfi .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#mwlefoodfi .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#mwlefoodfi .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#mwlefoodfi .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#mwlefoodfi .gt_left {
  text-align: left;
}

#mwlefoodfi .gt_center {
  text-align: center;
}

#mwlefoodfi .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#mwlefoodfi .gt_font_normal {
  font-weight: normal;
}

#mwlefoodfi .gt_font_bold {
  font-weight: bold;
}

#mwlefoodfi .gt_font_italic {
  font-style: italic;
}

#mwlefoodfi .gt_super {
  font-size: 65%;
}

#mwlefoodfi .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#mwlefoodfi .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#mwlefoodfi .gt_indent_1 {
  text-indent: 5px;
}

#mwlefoodfi .gt_indent_2 {
  text-indent: 10px;
}

#mwlefoodfi .gt_indent_3 {
  text-indent: 15px;
}

#mwlefoodfi .gt_indent_4 {
  text-indent: 20px;
}

#mwlefoodfi .gt_indent_5 {
  text-indent: 25px;
}

#mwlefoodfi .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#mwlefoodfi div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" style="font-weight: bold; color: #FFFFFF; background-color: #000000;" scope="col" id="Estimate name">Estimate name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" style="font-weight: bold; color: #FFFFFF; background-color: #000000;" scope="col" id="Description">Description</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" style="font-weight: bold; color: #FFFFFF; background-color: #000000;" scope="col" id="Estimate type">Estimate type</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr class="gt_group_heading_row">
<th colspan="3" class="gt_group_heading" style="background-color: #E1E1E1;" scope="colgroup" id="date">date</th>
    </tr>
<tr class="gt_row_group_first">
<td headers="date  Estimate name" class="gt_row gt_left" style="font-family: consolas;">mean</td>
<td headers="date  Description" class="gt_row gt_left">mean of the variable of interest.</td>
<td headers="date  Estimate type" class="gt_row gt_left">date</td>
</tr>
<tr>
<td headers="date  Estimate name" class="gt_row gt_left" style="font-family: consolas;">sd</td>
<td headers="date  Description" class="gt_row gt_left">standard deviation of the variable of interest.</td>
<td headers="date  Estimate type" class="gt_row gt_left">date</td>
</tr>
<tr>
<td headers="date  Estimate name" class="gt_row gt_left" style="font-family: consolas;">median</td>
<td headers="date  Description" class="gt_row gt_left">median of the variable of interest.</td>
<td headers="date  Estimate type" class="gt_row gt_left">date</td>
</tr>
<tr>
<td headers="date  Estimate name" class="gt_row gt_left" style="font-family: consolas;">qXX</td>
<td headers="date  Description" class="gt_row gt_left">qualtile of XX% the variable of interest.</td>
<td headers="date  Estimate type" class="gt_row gt_left">date</td>
</tr>
<tr>
<td headers="date  Estimate name" class="gt_row gt_left" style="font-family: consolas;">min</td>
<td headers="date  Description" class="gt_row gt_left">minimum of the variable of interest.</td>
<td headers="date  Estimate type" class="gt_row gt_left">date</td>
</tr>
<tr>
<td headers="date  Estimate name" class="gt_row gt_left" style="font-family: consolas;">max</td>
<td headers="date  Description" class="gt_row gt_left">maximum of the variable of interest.</td>
<td headers="date  Estimate type" class="gt_row gt_left">date</td>
</tr>
<tr>
<td headers="date  Estimate name" class="gt_row gt_left" style="font-family: consolas;">count_missing</td>
<td headers="date  Description" class="gt_row gt_left">number of missing values.</td>
<td headers="date  Estimate type" class="gt_row gt_left">integer</td>
</tr>
<tr>
<td headers="date  Estimate name" class="gt_row gt_left" style="font-family: consolas;">percentage_missing</td>
<td headers="date  Description" class="gt_row gt_left">percentage of missing values</td>
<td headers="date  Estimate type" class="gt_row gt_left">percentage</td>
</tr>
<tr class="gt_group_heading_row">
<th colspan="3" class="gt_group_heading" style="background-color: #E1E1E1;" scope="colgroup" id="numeric">numeric</th>
    </tr>
<tr class="gt_row_group_first">
<td headers="numeric  Estimate name" class="gt_row gt_left" style="font-family: consolas;">sum</td>
<td headers="numeric  Description" class="gt_row gt_left">sum of all the values for the variable of interest.</td>
<td headers="numeric  Estimate type" class="gt_row gt_left">numeric</td>
</tr>
<tr>
<td headers="numeric  Estimate name" class="gt_row gt_left" style="font-family: consolas;">mean</td>
<td headers="numeric  Description" class="gt_row gt_left">mean of the variable of interest.</td>
<td headers="numeric  Estimate type" class="gt_row gt_left">numeric</td>
</tr>
<tr>
<td headers="numeric  Estimate name" class="gt_row gt_left" style="font-family: consolas;">sd</td>
<td headers="numeric  Description" class="gt_row gt_left">standard deviation of the variable of interest.</td>
<td headers="numeric  Estimate type" class="gt_row gt_left">numeric</td>
</tr>
<tr>
<td headers="numeric  Estimate name" class="gt_row gt_left" style="font-family: consolas;">median</td>
<td headers="numeric  Description" class="gt_row gt_left">median of the variable of interest.</td>
<td headers="numeric  Estimate type" class="gt_row gt_left">numeric</td>
</tr>
<tr>
<td headers="numeric  Estimate name" class="gt_row gt_left" style="font-family: consolas;">qXX</td>
<td headers="numeric  Description" class="gt_row gt_left">qualtile of XX% the variable of interest.</td>
<td headers="numeric  Estimate type" class="gt_row gt_left">numeric</td>
</tr>
<tr>
<td headers="numeric  Estimate name" class="gt_row gt_left" style="font-family: consolas;">min</td>
<td headers="numeric  Description" class="gt_row gt_left">minimum of the variable of interest.</td>
<td headers="numeric  Estimate type" class="gt_row gt_left">numeric</td>
</tr>
<tr>
<td headers="numeric  Estimate name" class="gt_row gt_left" style="font-family: consolas;">max</td>
<td headers="numeric  Description" class="gt_row gt_left">maximum of the variable of interest.</td>
<td headers="numeric  Estimate type" class="gt_row gt_left">numeric</td>
</tr>
<tr>
<td headers="numeric  Estimate name" class="gt_row gt_left" style="font-family: consolas;">count_missing</td>
<td headers="numeric  Description" class="gt_row gt_left">number of missing values.</td>
<td headers="numeric  Estimate type" class="gt_row gt_left">integer</td>
</tr>
<tr>
<td headers="numeric  Estimate name" class="gt_row gt_left" style="font-family: consolas;">percentage_missing</td>
<td headers="numeric  Description" class="gt_row gt_left">percentage of missing values</td>
<td headers="numeric  Estimate type" class="gt_row gt_left">percentage</td>
</tr>
<tr>
<td headers="numeric  Estimate name" class="gt_row gt_left" style="font-family: consolas;">count</td>
<td headers="numeric  Description" class="gt_row gt_left">count number of `1`.</td>
<td headers="numeric  Estimate type" class="gt_row gt_left">integer</td>
</tr>
<tr>
<td headers="numeric  Estimate name" class="gt_row gt_left" style="font-family: consolas;">percentage</td>
<td headers="numeric  Description" class="gt_row gt_left">percentage of occurrences of `1` (NA are excluded).</td>
<td headers="numeric  Estimate type" class="gt_row gt_left">percentage</td>
</tr>
<tr class="gt_group_heading_row">
<th colspan="3" class="gt_group_heading" style="background-color: #E1E1E1;" scope="colgroup" id="integer">integer</th>
    </tr>
<tr class="gt_row_group_first">
<td headers="integer  Estimate name" class="gt_row gt_left" style="font-family: consolas;">sum</td>
<td headers="integer  Description" class="gt_row gt_left">sum of all the values for the variable of interest.</td>
<td headers="integer  Estimate type" class="gt_row gt_left">integer</td>
</tr>
<tr>
<td headers="integer  Estimate name" class="gt_row gt_left" style="font-family: consolas;">mean</td>
<td headers="integer  Description" class="gt_row gt_left">mean of the variable of interest.</td>
<td headers="integer  Estimate type" class="gt_row gt_left">numeric</td>
</tr>
<tr>
<td headers="integer  Estimate name" class="gt_row gt_left" style="font-family: consolas;">sd</td>
<td headers="integer  Description" class="gt_row gt_left">standard deviation of the variable of interest.</td>
<td headers="integer  Estimate type" class="gt_row gt_left">numeric</td>
</tr>
<tr>
<td headers="integer  Estimate name" class="gt_row gt_left" style="font-family: consolas;">median</td>
<td headers="integer  Description" class="gt_row gt_left">median of the variable of interest.</td>
<td headers="integer  Estimate type" class="gt_row gt_left">integer</td>
</tr>
<tr>
<td headers="integer  Estimate name" class="gt_row gt_left" style="font-family: consolas;">qXX</td>
<td headers="integer  Description" class="gt_row gt_left">qualtile of XX% the variable of interest.</td>
<td headers="integer  Estimate type" class="gt_row gt_left">integer</td>
</tr>
<tr>
<td headers="integer  Estimate name" class="gt_row gt_left" style="font-family: consolas;">min</td>
<td headers="integer  Description" class="gt_row gt_left">minimum of the variable of interest.</td>
<td headers="integer  Estimate type" class="gt_row gt_left">integer</td>
</tr>
<tr>
<td headers="integer  Estimate name" class="gt_row gt_left" style="font-family: consolas;">max</td>
<td headers="integer  Description" class="gt_row gt_left">maximum of the variable of interest.</td>
<td headers="integer  Estimate type" class="gt_row gt_left">integer</td>
</tr>
<tr>
<td headers="integer  Estimate name" class="gt_row gt_left" style="font-family: consolas;">count_missing</td>
<td headers="integer  Description" class="gt_row gt_left">number of missing values.</td>
<td headers="integer  Estimate type" class="gt_row gt_left">integer</td>
</tr>
<tr>
<td headers="integer  Estimate name" class="gt_row gt_left" style="font-family: consolas;">percentage_missing</td>
<td headers="integer  Description" class="gt_row gt_left">percentage of missing values</td>
<td headers="integer  Estimate type" class="gt_row gt_left">percentage</td>
</tr>
<tr>
<td headers="integer  Estimate name" class="gt_row gt_left" style="font-family: consolas;">count</td>
<td headers="integer  Description" class="gt_row gt_left">count number of `1`.</td>
<td headers="integer  Estimate type" class="gt_row gt_left">integer</td>
</tr>
<tr>
<td headers="integer  Estimate name" class="gt_row gt_left" style="font-family: consolas;">percentage</td>
<td headers="integer  Description" class="gt_row gt_left">percentage of occurrences of `1` (NA are excluded).</td>
<td headers="integer  Estimate type" class="gt_row gt_left">percentage</td>
</tr>
<tr class="gt_group_heading_row">
<th colspan="3" class="gt_group_heading" style="background-color: #E1E1E1;" scope="colgroup" id="categorical">categorical</th>
    </tr>
<tr class="gt_row_group_first">
<td headers="categorical  Estimate name" class="gt_row gt_left" style="font-family: consolas;">count</td>
<td headers="categorical  Description" class="gt_row gt_left">number of times that each category is observed.</td>
<td headers="categorical  Estimate type" class="gt_row gt_left">integer</td>
</tr>
<tr>
<td headers="categorical  Estimate name" class="gt_row gt_left" style="font-family: consolas;">percentage</td>
<td headers="categorical  Description" class="gt_row gt_left">percentage of individuals with that category.</td>
<td headers="categorical  Estimate type" class="gt_row gt_left">percentage</td>
</tr>
<tr class="gt_group_heading_row">
<th colspan="3" class="gt_group_heading" style="background-color: #E1E1E1;" scope="colgroup" id="logical">logical</th>
    </tr>
<tr class="gt_row_group_first">
<td headers="logical  Estimate name" class="gt_row gt_left" style="font-family: consolas;">count</td>
<td headers="logical  Description" class="gt_row gt_left">count number of `TRUE`.</td>
<td headers="logical  Estimate type" class="gt_row gt_left">integer</td>
</tr>
<tr>
<td headers="logical  Estimate name" class="gt_row gt_left" style="font-family: consolas;">percentage</td>
<td headers="logical  Description" class="gt_row gt_left">percentage of occurrences of `TRUE` (NA are excluded).</td>
<td headers="logical  Estimate type" class="gt_row gt_left">percentage</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section level2">
<h2 id="summarise-our-first-table">Summarise our first table<a class="anchor" aria-label="anchor" href="#summarise-our-first-table"></a>
</h2>
<p>Lets get started creating our data that we are going to
summarise:</p>
<pre><code><span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Download completed!</span></span></code></pre>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r.duckdb.org/" class="external-link">duckdb</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: DBI</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://darwin-eu.github.io/CDMConnector/" class="external-link">CDMConnector</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://darwin-eu-dev.github.io/PatientProfiles/">PatientProfiles</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://darwin-eu.github.io/CodelistGenerator/" class="external-link">CodelistGenerator</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">cdm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://darwin-eu.github.io/CDMConnector/reference/cdm_from_con.html" class="external-link">cdmFromCon</a></span><span class="op">(</span></span>
<span>  con <span class="op">=</span> <span class="fu"><a href="https://dbi.r-dbi.org/reference/dbConnect.html" class="external-link">dbConnect</a></span><span class="op">(</span><span class="fu"><a href="https://r.duckdb.org/reference/duckdb.html" class="external-link">duckdb</a></span><span class="op">(</span><span class="op">)</span>, <span class="fu"><a href="https://darwin-eu.github.io/CDMConnector/reference/eunomiaDir.html" class="external-link">eunomia_dir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  cdmSchema <span class="op">=</span> <span class="st">"main"</span>,</span>
<span>  writeSchema <span class="op">=</span> <span class="st">"main"</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Creating CDM database /tmp/RtmpkFaVeG/GiBleed_5.3.zip</span></span>
<span><span class="co">#&gt; Note: method with signature 'DBIConnection#Id' chosen for function 'dbExistsTable',</span></span>
<span><span class="co">#&gt;  target signature 'duckdb_connection#Id'.</span></span>
<span><span class="co">#&gt;  "duckdb_connection#ANY" would also be valid</span></span>
<span><span class="va">cdm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://darwin-eu.github.io/CDMConnector/reference/generateConceptCohortSet.html" class="external-link">generateConceptCohortSet</a></span><span class="op">(</span></span>
<span>  cdm <span class="op">=</span> <span class="va">cdm</span>,</span>
<span>  conceptSet <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"sinusitis"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4294548</span>, <span class="fl">4283893</span>, <span class="fl">40481087</span>, <span class="fl">257012</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  limit <span class="op">=</span> <span class="st">"first"</span>,</span>
<span>  name <span class="op">=</span> <span class="st">"my_cohort"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">cdm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://darwin-eu.github.io/CDMConnector/reference/generateConceptCohortSet.html" class="external-link">generateConceptCohortSet</a></span><span class="op">(</span></span>
<span>  cdm <span class="op">=</span> <span class="va">cdm</span>,</span>
<span>  conceptSet <span class="op">=</span> <span class="fu"><a href="https://darwin-eu.github.io/CodelistGenerator/reference/getDrugIngredientCodes.html" class="external-link">getDrugIngredientCodes</a></span><span class="op">(</span>cdm <span class="op">=</span> <span class="va">cdm</span>, name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"morphine"</span>, <span class="st">"aspirin"</span>, <span class="st">"oxycodone"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  name <span class="op">=</span> <span class="st">"drugs"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">cdm</span><span class="op">$</span><span class="va">my_cohort</span> <span class="op">|&gt;</span></span>
<span>  <span class="co"># add demographics variables</span></span>
<span>  <span class="fu"><a href="../reference/addDemographics.html">addDemographics</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="co"># add number of counts per ingredient before and after index date</span></span>
<span>  <span class="fu"><a href="../reference/addCohortIntersectCount.html">addCohortIntersectCount</a></span><span class="op">(</span></span>
<span>    targetCohortTable <span class="op">=</span> <span class="st">"drugs"</span>,</span>
<span>    window <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"prior"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="cn">Inf</span>, <span class="op">-</span><span class="fl">1</span><span class="op">)</span>, <span class="st">"future"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="cn">Inf</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    nameStyle <span class="op">=</span> <span class="st">"{window_name}_{cohort_name}"</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="co"># add a flag regarding if they had a prior occurrence of pharyngitis</span></span>
<span>  <span class="fu"><a href="../reference/addConceptIntersectFlag.html">addConceptIntersectFlag</a></span><span class="op">(</span></span>
<span>    conceptSet <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>pharyngitis <span class="op">=</span> <span class="fl">4112343</span><span class="op">)</span>,</span>
<span>    window <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="cn">Inf</span>, <span class="op">-</span><span class="fl">1</span><span class="op">)</span>,</span>
<span>    nameStyle <span class="op">=</span> <span class="st">"pharyngitis_before"</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="co"># date fo the first visit for that individual</span></span>
<span>  <span class="fu"><a href="../reference/addTableIntersectDate.html">addTableIntersectDate</a></span><span class="op">(</span></span>
<span>    tableName <span class="op">=</span> <span class="st">"visit_occurrence"</span>,</span>
<span>    window <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="cn">Inf</span>, <span class="cn">Inf</span><span class="op">)</span>,</span>
<span>    nameStyle <span class="op">=</span> <span class="st">"first_visit"</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="co"># time till the next visit after sinusitis</span></span>
<span>  <span class="fu"><a href="../reference/addTableIntersectDays.html">addTableIntersectDays</a></span><span class="op">(</span></span>
<span>    tableName <span class="op">=</span> <span class="st">"visit_occurrence"</span>,</span>
<span>    window <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="cn">Inf</span><span class="op">)</span>,</span>
<span>    nameStyle <span class="op">=</span> <span class="st">"days_to_next_visit"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">x</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: ??</span></span>
<span><span class="co">#&gt; Columns: 17</span></span>
<span><span class="co">#&gt; Database: DuckDB v1.0.0 [unknown@Linux 6.5.0-1024-azure:R 4.4.1//tmp/RtmpkFaVeG/file1c7018fc6d7.duckdb]</span></span>
<span><span class="co">#&gt; $ cohort_definition_id  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …</span></span>
<span><span class="co">#&gt; $ subject_id            <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 3132, 2485, 1, 2164, 2827, 2976, 1236, 2583, 322…</span></span>
<span><span class="co">#&gt; $ cohort_start_date     <span style="color: #949494; font-style: italic;">&lt;date&gt;</span> 1991-07-17, 1933-08-23, 1967-05-30, 1973-07-01,…</span></span>
<span><span class="co">#&gt; $ cohort_end_date       <span style="color: #949494; font-style: italic;">&lt;date&gt;</span> 2018-08-05, 2019-02-06, 2019-05-24, 2019-01-04,…</span></span>
<span><span class="co">#&gt; $ age                   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 28, 20, 18, 0, 7, 8, 1, 8, 2, 13, 15, 19, 18, 4,…</span></span>
<span><span class="co">#&gt; $ sex                   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Male", "Female", "Male", "Male", "Female", "Mal…</span></span>
<span><span class="co">#&gt; $ prior_observation     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 10237, 7357, 6696, 275, 2676, 3244, 604, 3067, 9…</span></span>
<span><span class="co">#&gt; $ future_observation    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 9881, 31213, 18987, 16623, 27046, 19814, 35236, …</span></span>
<span><span class="co">#&gt; $ prior_7052_morphine   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …</span></span>
<span><span class="co">#&gt; $ future_7804_oxycodone <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, …</span></span>
<span><span class="co">#&gt; $ prior_1191_aspirin    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, …</span></span>
<span><span class="co">#&gt; $ prior_7804_oxycodone  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …</span></span>
<span><span class="co">#&gt; $ future_7052_morphine  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …</span></span>
<span><span class="co">#&gt; $ future_1191_aspirin   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …</span></span>
<span><span class="co">#&gt; $ pharyngitis_before    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …</span></span>
<span><span class="co">#&gt; $ first_visit           <span style="color: #949494; font-style: italic;">&lt;date&gt;</span> 1976-07-05, 1953-04-30, 1981-08-18, 2012-10-14,…</span></span>
<span><span class="co">#&gt; $ days_to_next_visit    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 5767, 7190, 5194, 14350, 27032, 15551, 6421, 824…</span></span></code></pre></div>
<p>In this table (<code>x</code>) we have a cohort of first occurrences
of sinusitis, and then we added: demographics; the counts of 3
ingredients, any time prior and any time after the index date; a flag
indicating if they had pharyngitis before; date of the first visit; and,
finally, time to next visit.</p>
<p>If we want to summarise the age stratified by sex we could use
tidyverse functions like:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">sex</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>mean_age <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">age</span><span class="op">)</span>, sd_age <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="va">age</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Missing values are always removed in SQL aggregation functions.</span></span>
<span><span class="co">#&gt; Use `na.rm = TRUE` to silence this warning</span></span>
<span><span class="co">#&gt; <span style="color: #555555;">This warning is displayed once every 8 hours.</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Source:   SQL [2 x 3]</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Database: DuckDB v1.0.0 [unknown@Linux 6.5.0-1024-azure:R 4.4.1//tmp/RtmpkFaVeG/file1c7018fc6d7.duckdb]</span></span></span>
<span><span class="co">#&gt;   sex    mean_age sd_age</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Male       7.72   8.14</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Female     7.51   7.46</span></span></code></pre></div>
<p>This would give us a first insight of the differences of age. But the
output is not going to be in an standardised format.</p>
<p>In PatientProfiles we have built a function that:</p>
<ul>
<li><p>Allow you to get the standardised output.</p></li>
<li><p>You have a wide range of estimates that you can get.</p></li>
<li><p>You don’t have to worry which of the functions are supported in
the database side (e.g. not all dbms support quantile
function).</p></li>
</ul>
<p>For example we could get the same information like before using:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/summariseResult.html">summariseResult</a></span><span class="op">(</span></span>
<span>    strata <span class="op">=</span> <span class="st">"sex"</span>,</span>
<span>    variables <span class="op">=</span> <span class="st">"age"</span>,</span>
<span>    estimates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mean"</span>, <span class="st">"sd"</span><span class="op">)</span>,</span>
<span>    counts <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">strata_name</span>, <span class="va">strata_level</span>, <span class="va">variable_name</span>, <span class="va">estimate_value</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> The following estimates will be computed:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">•</span> age: mean, sd</span></span>
<span><span class="co">#&gt; → Start summary of data, at 2024-07-31 22:21:52.882582</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Summary finished, at 2024-07-31 22:21:53.23123</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 4</span></span></span>
<span><span class="co">#&gt;   strata_name strata_level variable_name estimate_value  </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> overall     overall      age           7.61212346597248</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> overall     overall      age           7.79743654397838</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> sex         Female       age           7.5127644055434 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> sex         Male         age           7.7154779969651 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> sex         Female       age           7.45793686970357</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> sex         Male         age           8.13712697581574</span></span></code></pre></div>
<p>You can stratify the results also by “pharyngitis_before”:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/summariseResult.html">summariseResult</a></span><span class="op">(</span></span>
<span>    strata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"sex"</span>, <span class="st">"pharyngitis_before"</span><span class="op">)</span>,</span>
<span>    variables <span class="op">=</span> <span class="st">"age"</span>,</span>
<span>    estimates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mean"</span>, <span class="st">"sd"</span><span class="op">)</span>,</span>
<span>    counts <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">strata_name</span>, <span class="va">strata_level</span>, <span class="va">variable_name</span>, <span class="va">estimate_value</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> The following estimates will be computed:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">•</span> age: mean, sd</span></span>
<span><span class="co">#&gt; → Start summary of data, at 2024-07-31 22:21:53.955214</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Summary finished, at 2024-07-31 22:21:54.515088</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 10 × 4</span></span></span>
<span><span class="co">#&gt;    strata_name        strata_level variable_name estimate_value  </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> overall            overall      age           7.61212346597248</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> overall            overall      age           7.79743654397838</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> sex                Female       age           7.5127644055434 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> sex                Male         age           7.7154779969651 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> sex                Female       age           7.45793686970357</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> sex                Male         age           8.13712697581574</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> pharyngitis_before 0            age           4.95620875824835</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> pharyngitis_before 1            age           11.9442270058708</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> pharyngitis_before 0            age           5.61220818358422</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> pharyngitis_before 1            age           8.85279666294611</span></span></code></pre></div>
<p>Note that the interaction term was not included, if we want to
include it we have to specify it as follows:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/summariseResult.html">summariseResult</a></span><span class="op">(</span></span>
<span>    strata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"sex"</span>, <span class="st">"pharyngitis_before"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sex"</span>, <span class="st">"pharyngitis_before"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    variables <span class="op">=</span> <span class="st">"age"</span>,</span>
<span>    estimates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mean"</span>, <span class="st">"sd"</span><span class="op">)</span>,</span>
<span>    counts <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">strata_name</span>, <span class="va">strata_level</span>, <span class="va">variable_name</span>, <span class="va">estimate_value</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span>n <span class="op">=</span> <span class="cn">Inf</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> The following estimates will be computed:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">•</span> age: mean, sd</span></span>
<span><span class="co">#&gt; → Start summary of data, at 2024-07-31 22:21:55.23087</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Summary finished, at 2024-07-31 22:21:56.036229</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 18 × 4</span></span></span>
<span><span class="co">#&gt;    strata_name                strata_level variable_name estimate_value  </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> overall                    overall      age           7.61212346597248</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> overall                    overall      age           7.79743654397838</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> sex                        Female       age           7.5127644055434 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> sex                        Male         age           7.7154779969651 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> sex                        Female       age           7.45793686970357</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> sex                        Male         age           8.13712697581574</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> pharyngitis_before         0            age           4.95620875824835</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> pharyngitis_before         1            age           11.9442270058708</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> pharyngitis_before         0            age           5.61220818358422</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> pharyngitis_before         1            age           8.85279666294611</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> sex &amp;&amp;&amp; pharyngitis_before Female &amp;&amp;&amp; 0 age           4.97596153846154</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> sex &amp;&amp;&amp; pharyngitis_before Female &amp;&amp;&amp; 1 age           11.4285714285714</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span> sex &amp;&amp;&amp; pharyngitis_before Male &amp;&amp;&amp; 0   age           4.93652694610778</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span> sex &amp;&amp;&amp; pharyngitis_before Male &amp;&amp;&amp; 1   age           12.51966873706  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span> sex &amp;&amp;&amp; pharyngitis_before Female &amp;&amp;&amp; 0 age           5.61023639284452</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span> sex &amp;&amp;&amp; pharyngitis_before Female &amp;&amp;&amp; 1 age           8.22838499965833</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">17</span> sex &amp;&amp;&amp; pharyngitis_before Male &amp;&amp;&amp; 0   age           5.61746547644658</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">18</span> sex &amp;&amp;&amp; pharyngitis_before Male &amp;&amp;&amp; 1   age           9.47682947960302</span></span></code></pre></div>
<p>You can remove overall strata with the includeOverallStrata
option:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/summariseResult.html">summariseResult</a></span><span class="op">(</span></span>
<span>    includeOverallStrata <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>    strata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"sex"</span>, <span class="st">"pharyngitis_before"</span><span class="op">)</span>,</span>
<span>    variables <span class="op">=</span> <span class="st">"age"</span>,</span>
<span>    estimates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mean"</span>, <span class="st">"sd"</span><span class="op">)</span>,</span>
<span>    counts <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">strata_name</span>, <span class="va">strata_level</span>, <span class="va">variable_name</span>, <span class="va">estimate_value</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span>n <span class="op">=</span> <span class="cn">Inf</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> The following estimates will be computed:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">•</span> age: mean, sd</span></span>
<span><span class="co">#&gt; → Start summary of data, at 2024-07-31 22:21:56.751002</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Summary finished, at 2024-07-31 22:21:57.205572</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 8 × 4</span></span></span>
<span><span class="co">#&gt;   strata_name        strata_level variable_name estimate_value  </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> sex                Female       age           7.5127644055434 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> sex                Male         age           7.7154779969651 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> sex                Female       age           7.45793686970357</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> sex                Male         age           8.13712697581574</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> pharyngitis_before 0            age           4.95620875824835</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> pharyngitis_before 1            age           11.9442270058708</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span> pharyngitis_before 0            age           5.61220818358422</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">8</span> pharyngitis_before 1            age           8.85279666294611</span></span></code></pre></div>
<p>The results model has two levels of grouping (group and strata), you
can specify them independently:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/addCohortName.html">addCohortName</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/summariseResult.html">summariseResult</a></span><span class="op">(</span></span>
<span>    group <span class="op">=</span> <span class="st">"cohort_name"</span>,</span>
<span>    includeOverallGroup <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>    strata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"sex"</span>, <span class="st">"pharyngitis_before"</span><span class="op">)</span>,</span>
<span>    includeOverallStrata <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    variables <span class="op">=</span> <span class="st">"age"</span>,</span>
<span>    estimates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mean"</span>, <span class="st">"sd"</span><span class="op">)</span>,</span>
<span>    counts <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">group_name</span>, <span class="va">group_level</span>, <span class="va">strata_name</span>, <span class="va">strata_level</span>, <span class="va">variable_name</span>, <span class="va">estimate_value</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span>n <span class="op">=</span> <span class="cn">Inf</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> The following estimates will be computed:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">•</span> age: mean, sd</span></span>
<span><span class="co">#&gt; → Start summary of data, at 2024-07-31 22:21:58.108806</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Summary finished, at 2024-07-31 22:21:58.884483</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 10 × 6</span></span></span>
<span><span class="co">#&gt;    group_name  group_level strata_name strata_level variable_name estimate_value</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> cohort_name sinusitis   overall     overall      age           7.61212346597…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> cohort_name sinusitis   overall     overall      age           7.79743654397…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> cohort_name sinusitis   sex         Female       age           7.51276440554…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> cohort_name sinusitis   sex         Male         age           7.71547799696…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> cohort_name sinusitis   sex         Female       age           7.45793686970…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> cohort_name sinusitis   sex         Male         age           8.13712697581…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> cohort_name sinusitis   pharyngiti… 0            age           4.95620875824…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> cohort_name sinusitis   pharyngiti… 1            age           11.9442270058…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> cohort_name sinusitis   pharyngiti… 0            age           5.61220818358…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> cohort_name sinusitis   pharyngiti… 1            age           8.85279666294…</span></span></code></pre></div>
<p>We can add or remove number subjects and records (if a person
identifier is found) counts with the counts parameter:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/summariseResult.html">summariseResult</a></span><span class="op">(</span></span>
<span>    variables <span class="op">=</span> <span class="st">"age"</span>,</span>
<span>    estimates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mean"</span>, <span class="st">"sd"</span><span class="op">)</span>,</span>
<span>    counts <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">strata_name</span>, <span class="va">strata_level</span>, <span class="va">variable_name</span>, <span class="va">estimate_value</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span>n <span class="op">=</span> <span class="cn">Inf</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> The following estimates will be computed:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">•</span> age: mean, sd</span></span>
<span><span class="co">#&gt; → Start summary of data, at 2024-07-31 22:21:59.597307</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Summary finished, at 2024-07-31 22:21:59.814727</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4 × 4</span></span></span>
<span><span class="co">#&gt;   strata_name strata_level variable_name   estimate_value  </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> overall     overall      number records  2689            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> overall     overall      number subjects 2689            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> overall     overall      age             7.61212346597248</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> overall     overall      age             7.79743654397838</span></span></code></pre></div>
<p>If you want to specify different groups of estimates per different
groups of variables you can use lists:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/summariseResult.html">summariseResult</a></span><span class="op">(</span></span>
<span>    strata <span class="op">=</span> <span class="st">"pharyngitis_before"</span>,</span>
<span>    includeOverallStrata <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>    variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age"</span>, <span class="st">"prior_observation"</span><span class="op">)</span>, <span class="st">"sex"</span><span class="op">)</span>,</span>
<span>    estimates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mean"</span>, <span class="st">"sd"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"count"</span>, <span class="st">"percentage"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    counts <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">strata_name</span>, <span class="va">strata_level</span>, <span class="va">variable_name</span>, <span class="va">estimate_value</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span>n <span class="op">=</span> <span class="cn">Inf</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> The following estimates will be computed:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">•</span> age: mean, sd</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">•</span> prior_observation: mean, sd</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">•</span> sex: count, percentage</span></span>
<span><span class="co">#&gt; → Start summary of data, at 2024-07-31 22:22:00.520172</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Summary finished, at 2024-07-31 22:22:00.959888</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 16 × 4</span></span></span>
<span><span class="co">#&gt;    strata_name        strata_level variable_name     estimate_value  </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> pharyngitis_before 0            age               4.95620875824835</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> pharyngitis_before 1            age               11.9442270058708</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> pharyngitis_before 0            age               5.61220818358422</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> pharyngitis_before 1            age               8.85279666294611</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> pharyngitis_before 0            sex               832             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> pharyngitis_before 1            sex               539             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> pharyngitis_before 0            sex               835             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> pharyngitis_before 1            sex               483             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> pharyngitis_before 0            sex               49.9100179964007</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> pharyngitis_before 1            sex               52.7397260273973</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> pharyngitis_before 0            sex               50.0899820035993</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> pharyngitis_before 1            sex               47.2602739726027</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span> pharyngitis_before 0            prior_observation 1986.83443311338</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span> pharyngitis_before 1            prior_observation 4542.85812133072</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span> pharyngitis_before 0            prior_observation 2053.24325390978</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span> pharyngitis_before 1            prior_observation 3228.06460521219</span></span></code></pre></div>
<p>An example of a complete analysis would be:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">drugs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://darwin-eu-dev.github.io/omopgenerics/reference/settings.html" class="external-link">settings</a></span><span class="op">(</span><span class="va">cdm</span><span class="op">$</span><span class="va">drugs</span><span class="op">)</span><span class="op">$</span><span class="va">cohort_name</span></span>
<span><span class="va">x</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/addCohortName.html">addCohortName</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/summariseResult.html">summariseResult</a></span><span class="op">(</span></span>
<span>    group <span class="op">=</span> <span class="st">"cohort_name"</span>,</span>
<span>    includeOverallGroup <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>    strata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"pharyngitis_before"</span><span class="op">)</span>,</span>
<span>    includeOverallStrata <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>        <span class="st">"age"</span>, <span class="st">"prior_observation"</span>, <span class="st">"future_observation"</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"prior_"</span>, <span class="va">drugs</span><span class="op">)</span>,</span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"future_"</span>, <span class="va">drugs</span><span class="op">)</span>, <span class="st">"days_to_next_visit"</span></span>
<span>      <span class="op">)</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sex"</span>, <span class="st">"pharyngitis_before"</span><span class="op">)</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"first_visit"</span>, <span class="st">"cohort_start_date"</span>, <span class="st">"cohort_end_date"</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    estimates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"median"</span>, <span class="st">"q25"</span>, <span class="st">"q75"</span><span class="op">)</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"count"</span>, <span class="st">"percentage"</span><span class="op">)</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"median"</span>, <span class="st">"q25"</span>, <span class="st">"q75"</span>, <span class="st">"min"</span>, <span class="st">"max"</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    counts <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">group_name</span>, <span class="va">group_level</span>, <span class="va">strata_name</span>, <span class="va">strata_level</span>, <span class="va">variable_name</span>, <span class="va">estimate_value</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> The following estimates will be computed:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">•</span> age: median, q25, q75</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">•</span> prior_observation: median, q25, q75</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">•</span> future_observation: median, q25, q75</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">•</span> prior_7052_morphine: median, q25, q75</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">•</span> prior_1191_aspirin: median, q25, q75</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">•</span> prior_7804_oxycodone: median, q25, q75</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">•</span> future_7052_morphine: median, q25, q75</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">•</span> future_1191_aspirin: median, q25, q75</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">•</span> future_7804_oxycodone: median, q25, q75</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">•</span> days_to_next_visit: median, q25, q75</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">•</span> sex: count, percentage</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">•</span> pharyngitis_before: count, percentage</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">•</span> first_visit: median, q25, q75, min, max</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">•</span> cohort_start_date: median, q25, q75, min, max</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">•</span> cohort_end_date: median, q25, q75, min, max</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Table is collected to memory as not all requested estimates are supported on</span></span>
<span><span class="co">#&gt;   the database side</span></span>
<span><span class="co">#&gt; → Start summary of data, at 2024-07-31 22:22:02.111524</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Summary finished, at 2024-07-31 22:22:02.344326</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 159 × 6</span></span></span>
<span><span class="co">#&gt;    group_name  group_level strata_name strata_level variable_name estimate_value</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> cohort_name sinusitis   overall     overall      number recor… 2689          </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> cohort_name sinusitis   overall     overall      number subje… 2689          </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> cohort_name sinusitis   overall     overall      cohort_start… 1968-05-06    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> cohort_name sinusitis   overall     overall      cohort_start… 1956-07-05    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> cohort_name sinusitis   overall     overall      cohort_start… 1978-09-04    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> cohort_name sinusitis   overall     overall      cohort_start… 1908-10-30    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> cohort_name sinusitis   overall     overall      cohort_start… 2018-02-13    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> cohort_name sinusitis   overall     overall      cohort_end_d… 2018-12-14    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> cohort_name sinusitis   overall     overall      cohort_end_d… 2018-08-02    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> cohort_name sinusitis   overall     overall      cohort_end_d… 2019-04-06    </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 149 more rows</span></span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Marti Catala, Yuchen Guo, Mike Du, Kim Lopez-Guell, Edward Burn, Nuria Mercade-Besora.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
